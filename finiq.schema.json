{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "required": [
        "name",
        "version",
        "title",
        "description",
        "completionTime",
        "pages"
    ],
    "properties": {
        "name": {
            "type": "string",
            "description": "ID of the lesson. Must be unique in the project."
        },
        "version": {
            "type": "integer",
            "description": "An integer starting from 1 to represent the version of this lesson."
        },
        "title": {
            "type": "string",
            "description": "A title that will appear when selecting or progressing through the lesson.",
            "minLength": 8,
            "maxLength": 32
        },
        "description": {
            "type": "string",
            "description": "A short description that briefly explains what is going to be taught, what the outcome is going to be, etc.",
            "minLength": 8
        },
        "completionTime": {
            "type": "integer",
            "description": "Roughly, how many minutes a user is going to take to finish this lesson.",
            "minimum": 0
        },
        "pages": {
            "type": "array",
            "description": "A list of modules - pages, that will make up the lesson.",
            "minItems": 1,
            "items": {
                "$ref": "#/definitions/page"
            }
        }
    },
    "definitions": {
        "page": {
            "type": "object",
            "required": [
                "page",
                "title"
            ],
            "oneOf": [
                {
                    "required": [
                        "info"
                    ]
                },
                {
                    "required": [
                        "question"
                    ]
                },
                {
                    "required": [
                        "video"
                    ]
                }
            ],
            "properties": {
                "page": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 32
                },
                "title": {
                    "type": "string"
                },
                "info": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/infoItem"
                    }
                },
                "question": {
                    "$ref": "#/definitions/questionPage"
                },
                "video": {
                    "$ref": "#/definitions/videoPage"
                }
            }
        },
        "videoPage": {
            "type": "object",
            "required": [
                "path"
            ],
            "properties": {
                "path": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "transcript": {
                    "type": "object"
                }
            }
        },
        "questionPage": {
            "type": "object",
            "required": [
                "text",
                "options"
            ],
            "properties": {
                "text": {
                    "type": "string",
                    "description": "The question statement that the user will need to answer."
                },
                "options": {
                    "type": "array",
                    "description": "A list of options that the user can select from. To make this a multi select option list, set [multiSelect] to true."
                },
                "multiSelect": {
                    "type": "boolean",
                    "description": "Whether this item - as a [question] will have multi select [options].",
                    "default": false
                },
                "answer": {
                    "description": "The correct answer of this question. Leave this null if this question does not have a correct answer."
                },
                "hint": {
                    "type": "string",
                    "description": "Correct explanation of this question. Leave this null if this question does not have an explanation."
                },
                "image": {
                    "$ref": "#/definitions/imageItem"
                }
            }
        },
        "infoItem": {
            "type": "object",
            "oneOf": [
                {
                    "required": [
                        "text"
                    ]
                },
                {
                    "required": [
                        "image"
                    ]
                }
            ],
            "properties": {
                "text": {
                    "type": "string"
                },
                "image": {
                    "$ref": "#/definitions/imageItem"
                }
            }
        },
        "imageItem": {
            "type": "object",
            "required": [
                "path"
            ],
            "properties": {
                "path": {
                    "type": "string",
                    "description": "Path to the image or gif that will be displayed. Can be combined with a [caption] to create a polaroid-style image."
                },
                "caption": {
                    "type": "string",
                    "maxLength": 50,
                    "description": "The text that will be displayed beneath the image to create a polaroid-style image."
                }
            }
        },
        "sliderItem": {
            "type": "object",
            "required": [
                "item"
            ],
            "oneOf": [
                {
                    "required": [
                        "options"
                    ],
                    "not": {
                        "required": [
                            "slices"
                        ]
                    }
                },
                {
                    "required": [
                        "min",
                        "max"
                    ]
                }
            ],
            "properties": {
                "item": {
                    "type": "string"
                },
                "options": {
                    "type": "array"
                },
                "min": {
                    "type": "number"
                },
                "max": {
                    "type": "number"
                },
                "slices": {
                    "type": "integer"
                }
            }
        }
    }
}